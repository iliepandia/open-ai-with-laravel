import{j as v,k as w,C as T,l as q,f as r,o as a,a as b,u as t,m as C,w as x,b as e,F as p,p as h,n as y,t as l,g as n,d as D,i as S,q as N}from"./app-Rm3IX-NE.js";import{_ as V}from"./AuthenticatedLayout-CmOaRc9H.js";import"./ApplicationLogo-d84fd9Ks.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const A={class:"py-6"},B={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},M={key:0,class:"mt-2 font-bold"},z=["href"],F={class:"mt-6 overflow-hidden bg-white shadow-sm sm:rounded-lg dark:bg-gray-800"},P={class:"p-6 text-gray-900 dark:bg-gray-800 dark:text-gray-100"},j={class:"mb-4"},E=["disabled"],I={key:0,class:"text-sm text-red-600"},L={key:0,class:"text-sm text-red-600"},R=["disabled"],U=["disabled"],Y={key:1,class:"px-5"},O={__name:"Dashboard",setup($){const i=v(),c=w(i.props.messages),f=()=>{s.newThread=!0,s.prompt="reset-thread",s.submit()},s=T({prompt:null,newThread:!1});q(()=>{console.log("Props on the page:",i.props)});const _=()=>{console.log("submit"),s.post("/api/ask-ai",{preserveScroll:!0,onSuccess:g=>{c.value=g.props.messages,s.reset()}})};return(g,d)=>(a(),r(p,null,[b(t(C),{title:"Dashboard"}),b(V,null,{header:x(()=>d[1]||(d[1]=[e("h2",{class:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200"}," Dashboard ",-1)])),default:x(()=>[d[3]||(d[3]=e("div",{class:"py-6"},[e("div",{class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},[e("div",{class:"overflow-hidden bg-white shadow-sm sm:rounded-lg dark:bg-gray-800"},[e("div",{class:"p-6 text-gray-900 dark:text-gray-100"}," You're logged in! ")])])],-1)),e("div",A,[e("div",B,[e("div",null,[(a(!0),r(p,null,h(c.value,o=>{var m;return a(),r("div",{key:o.id,class:y([o.source==="ai"?"ml-6":"mt-6 shadow-md","my-2 rounded-md bg-white px-4 py-4 text-gray-900 dark:bg-gray-800 dark:text-gray-100"])},[e("div",null,[e("span",{class:y([o.source==="ai"?"text-red-500":"","font-bold"])},l(o.source==="user"?t(i).props.auth.user.name:"The Amazing AI"),3)]),e("div",null,[e("div",null,l(o.text),1),e("div",null,[(m=o.annotations)!=null&&m.length?(a(),r("h3",M," References ")):n("",!0),(a(!0),r(p,null,h(o.annotations,(u,k)=>(a(),r("div",{key:k},[e("a",{class:"text-blue-600 dark:text-blue-400",target:"_blank",href:u.url},l(u.note)+" "+l(u.title),9,z)]))),128))])])],2)}),128))]),e("div",F,[e("div",P,[e("form",{onSubmit:D(_,["prevent"])},[e("div",j,[d[2]||(d[2]=e("label",{class:"mb-2 block text-sm font-bold text-gray-900 dark:bg-gray-800 dark:text-gray-100",for:"question"},"Ask your question*:",-1)),S(e("textarea",{class:"w-full rounded-md border px-3 py-2 text-gray-900 focus:border-blue-100 focus:outline-none focus:ring disabled:opacity-25 dark:bg-gray-200 dark:focus:ring-orange-600",id:"question",disabled:t(s).processing,required:"",rows:"5","onUpdate:modelValue":d[0]||(d[0]=o=>t(s).prompt=o)},"                                ",8,E),[[N,t(s).prompt]]),t(s).errors.prompt?(a(),r("div",I,l(t(s).errors.prompt),1)):n("",!0)]),t(s).errors.general?(a(),r("div",L,l(t(s).errors.general),1)):n("",!0),e("button",{disabled:t(s).processing,class:"focus:shadow-outline mx-1 rounded bg-blue-600 px-4 py-2 font-bold text-white hover:bg-gray-950 focus:outline-none disabled:opacity-25",type:"submit"}," Send ",8,R),e("button",{disabled:t(s).processing,onClick:f,class:"focus:shadow-outline mx-1 rounded bg-blue-600 px-4 py-2 font-bold text-white hover:bg-gray-950 focus:outline-none disabled:opacity-25"}," New Thread ",8,U),t(s).processing?(a(),r("span",Y,"Thinking. Please wait...")):n("",!0)],32)])])])])]),_:1})],64))}};export{O as default};
