import{j as w,k,C as T,l as q,f as r,o as a,a as g,u as t,m as C,w as h,b as e,F as p,p as x,n as f,t as l,g as n,d as D,i as S,q as N}from"./app-Dqyk27Hu.js";import{_ as V}from"./AuthenticatedLayout-BQ3v9E0i.js";import"./ApplicationLogo-lN-ia7-h.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const A={class:"py-6"},B={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},M={key:0,class:"mt-2 font-bold"},z=["href"],F={class:"mt-6 overflow-hidden bg-white shadow-sm sm:rounded-lg dark:bg-gray-800"},P={class:"p-6 text-gray-900 dark:text-gray-100"},j={class:"mb-4"},E=["disabled"],I={key:0,class:"text-sm text-red-600"},L={key:0,class:"text-sm text-red-600"},R=["disabled"],U=["disabled"],Y={key:1,class:"px-5"},O={__name:"Dashboard",setup($){const i=w(),c=k(i.props.messages),_=()=>{s.newThread=!0,s.prompt="reset-thread",s.submit()},s=T({prompt:null,newThread:!1});q(()=>{console.log("Props on the page:",i.props)});const y=()=>{console.log("submit"),s.post("/api/ask-ai",{preserveScroll:!0,onSuccess:m=>{c.value=m.props.messages,s.reset()}})};return(m,d)=>(a(),r(p,null,[g(t(C),{title:"Dashboard"}),g(V,null,{header:h(()=>d[1]||(d[1]=[e("h2",{class:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200"}," Dashboard ",-1)])),default:h(()=>[d[3]||(d[3]=e("div",{class:"py-6"},[e("div",{class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},[e("div",{class:"overflow-hidden bg-white shadow-sm sm:rounded-lg dark:bg-gray-800"},[e("div",{class:"p-6 text-gray-900 dark:text-gray-100"}," You're logged in! ")])])],-1)),e("div",A,[e("div",B,[e("div",null,[(a(!0),r(p,null,x(c.value,o=>{var b;return a(),r("div",{key:o.id,class:f([o.source==="ai"?"ml-6":"mt-6 shadow-md","my-2 rounded-md bg-white px-4 py-4"])},[e("div",null,[e("span",{class:f([o.source==="ai"?"text-red-500":"","font-bold"])},l(o.source==="user"?t(i).props.auth.user.name:"The Amazing AI"),3)]),e("div",null,[e("div",null,l(o.text),1),e("div",null,[(b=o.annotations)!=null&&b.length?(a(),r("h3",M," References ")):n("",!0),(a(!0),r(p,null,x(o.annotations,(u,v)=>(a(),r("div",{key:v},[e("a",{class:"text-blue-600",target:"_blank",href:u.url},l(u.note)+" "+l(u.title),9,z)]))),128))])])],2)}),128))]),e("div",F,[e("div",P,[e("form",{onSubmit:D(y,["prevent"])},[e("div",j,[d[2]||(d[2]=e("label",{class:"mb-2 block text-sm font-bold text-gray-700",for:"question"},"Ask your question*:",-1)),S(e("textarea",{class:"w-full rounded-md border px-3 py-2 focus:border-blue-100 focus:outline-none focus:ring disabled:opacity-25",id:"question",disabled:t(s).processing,required:"",rows:"5","onUpdate:modelValue":d[0]||(d[0]=o=>t(s).prompt=o)},"                                ",8,E),[[N,t(s).prompt]]),t(s).errors.prompt?(a(),r("div",I,l(t(s).errors.prompt),1)):n("",!0)]),t(s).errors.general?(a(),r("div",L,l(t(s).errors.general),1)):n("",!0),e("button",{disabled:t(s).processing,class:"focus:shadow-outline mx-1 rounded bg-blue-600 px-4 py-2 font-bold text-white hover:bg-gray-950 focus:outline-none disabled:opacity-25",type:"submit"}," Send ",8,R),e("button",{disabled:t(s).processing,onClick:_,class:"focus:shadow-outline mx-1 rounded bg-blue-600 px-4 py-2 font-bold text-white hover:bg-gray-950 focus:outline-none disabled:opacity-25"}," New Thread ",8,U),t(s).processing?(a(),r("span",Y,"Thinking. Please wait...")):n("",!0)],32)])])])])]),_:1})],64))}};export{O as default};
